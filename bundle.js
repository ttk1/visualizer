!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){window.onload=()=>{const t=document.getElementById("container"),e=document.createElement("canvas");switch(t.appendChild(e),function(t){return window.location.search.replace(/^\?/,"").split("&").map(t=>t.split("=")).find(e=>e[0]==t)[1]}("mode")){case"randomlines":return i(1).start(e);case"animation01":return i(2).start(e);case"motion01":return i(3).start(e);case"lifegame":return i(4).start(e)}}},function(t,e){e.start=t=>{t.width=500,t.height=500;const e=t.getContext("2d");e.strokeStyle="#F00",e.lineWidth=5;for(let t=0;t<20;t++){i(e,n(),n())}function i(t,e,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()}function n(){const t={};return t.x=Math.floor(500*Math.random()),t.y=Math.floor(500*Math.random()),t}}},function(t,e){const i=700,n=700;e.start=t=>{t.width=i,t.height=n;const e=t.getContext("2d");window.setInterval(function(){let t=function(){const t={};return t.x=l(i),t.y=l(n),t}(),s=l(50);function l(t){return Math.floor(Math.random()*t)}function o(t){return t?"rgba("+l(256)+", "+l(256)+", "+l(256)+", "+Math.random()+")":"rgba("+l(256)+", "+l(256)+", "+l(256)+", 1)"}!function(t,e,i){t.fillStyle=o(!0),t.beginPath(),t.arc(e.x,e.y,i,0,2*Math.PI,!0),t.fill()}(e,t,s)},50)}},function(t,e){const i=700,n=700;class s{constructor(t,e,i,n){this.pos=t,this.radius=e,this.velocity=i,this.color=n}move(){this.pos.x+=this.velocity.x,this.pos.y+=this.velocity.y,(this.pos.x<0||i<this.pos.x)&&this.reboundX(),(this.pos.y<0||n<this.pos.y)&&this.reboundY()}reboundX(){this.velocity.x*=-1}reboundY(){this.velocity.y*=-1}}e.start=t=>{t.width=i,t.height=n;const e=t.getContext("2d"),l=[];for(let t=0;t<100;t++){let t=o(),e=10,i={x:r(5),y:r(5)},n=c();l.push(new s(t,e,i,n))}function o(){const t={};return t.x=r(i),t.y=r(n),t}function r(t){return Math.random()*t}function h(t){return Math.floor(r(t))}function c(t){return t?"rgba("+h(256)+", "+h(256)+", "+h(256)+", "+Math.random()+")":"rgba("+h(256)+", "+h(256)+", "+h(256)+", 1)"}window.setInterval(function(){(function(t){t.fillStyle="white",t.fillRect(0,0,i,n)})(e),l.forEach(t=>{!function(t,e){t.beginPath(),t.fillStyle=e.color,t.arc(e.pos.x,e.pos.y,e.radius,0,2*Math.PI,!0),t.fill()}(e,t),t.move()})},10)}},function(t,e){const i=100;class n{constructor(t,e,n,s){this.step_num=0,this.width=t,this.height=e,this.cell_size=n,this.canvas=s,this.canvas.width=t*n,this.canvas.height=e*n,this.canvas.style.border="solid 1px black",this.ctx=this.canvas.getContext("2d"),this.field=[],this.reset(),this.interval=i,this.interval_id=null,this.canvas.addEventListener("click",t=>{if(null!=this.interval_id)return;let e=t.target.getBoundingClientRect(),i=Math.floor((t.clientX-e.left)/n),s=Math.floor((t.clientY-e.top)/n);this.get(i,s)?this.unfill(i,s):this.fill(i,s),this.flip(i,s)})}step(){console.log("step_num: "+this.step_num),this.step_num++;const t=2,e=3,i=3,n=3;let s=[];for(let t=0;t<this.width;t++){s[t]=[];for(let e=0;e<this.height;e++)s[t][e]=l(this.field,t,e)}function l(s,l,o){let r=function(t,e,i){let n=0;for(let s=-1;s<=1;s++)for(let l=-1;l<=1;l++)(0!=s||0!=l)&&t[e+s]&&t[e+s][i+l]&&n++;return n}(s,l,o);return s[l][o]?t<=r&&r<=e:i<=r&&r<=n}this.field=s}get(t,e){return this.field[t][e]}set(t,e,i){this.field[t][e]=i}flip(t,e){this.field[t][e]=!this.field[t][e]}start(){null==this.interval_id&&(this.interval_id=window.setInterval(()=>{this.step(),this.refresh();for(let t=0;t<this.width;t++)for(let e=0;e<this.height;e++)this.get(t,e)&&this.fill(t,e)},this.interval))}stop(){null!=this.interval_id&&(window.clearInterval(this.interval_id),this.interval_id=null)}reset(){this.stop(),this.refresh(),this.step_num=0;for(let t=0;t<this.width;t++){this.field[t]=[];for(let e=0;e<this.height;e++)this.field[t][e]=!1}}refresh(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.strokeStyle="gray",this.ctx.lineWidth=1;for(let t=1;t<this.width;t++)this.ctx.beginPath(),this.ctx.moveTo(t*this.cell_size+.5,0),this.ctx.lineTo(t*this.cell_size+.5,this.canvas.height),this.ctx.stroke();for(let t=1;t<this.height;t++)this.ctx.beginPath(),this.ctx.moveTo(0,t*this.cell_size+.5),this.ctx.lineTo(this.canvas.height,t*this.cell_size+.5),this.ctx.stroke()}fill(t,e){this.ctx.beginPath(),this.ctx.fillStyle="black",this.ctx.fillRect(t*this.cell_size+.5,e*this.cell_size+.5,this.cell_size-.5,this.cell_size-.5)}unfill(t,e){this.ctx.beginPath(),this.ctx.fillStyle="white",this.ctx.fillRect(t*this.cell_size+.5,e*this.cell_size+.5,this.cell_size-.5,this.cell_size-.5)}}e.start=t=>{!function(t){const e=document.getElementById("container"),i=document.createElement("div");i.style.display="block",e.appendChild(i);const n=document.createElement("button");n.innerHTML="スタート";const s=document.createElement("button");s.innerHTML="ストップ";const l=document.createElement("button");l.innerHTML="リセット",i.appendChild(n),i.appendChild(s),i.appendChild(l),n.addEventListener("click",()=>t.start()),s.addEventListener("click",()=>t.stop()),l.addEventListener("click",()=>t.reset())}(new n(50,50,15,t))}}]);